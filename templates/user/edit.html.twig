{% extends 'base.html.twig' %}

{% block title %}Editer mon profil{% endblock %}

{% block body %}

    <h1 class="text-center p-4">Editer mon profil</h1>

    {% for media in user.medias %}
        {% if media.type == 'photo' | e %}
            <div class="d-flex justify-content-center"> <img src="{{ media.url }}" alt="profil" class="w-25"> </div>
        {% else %}

        {% endif %}
    {% endfor %}
    <div class="container edition">

        <nav class="d-flex justify-content-center">
            <div class="nav nav-tabs justify-content-center" id="nav-tab" role="tablist">
                <a class="nav-item nav-link" id="nav-home-tab" data-toggle="tab" href="#nav-home" role="tab" aria-controls="nav-home" aria-selected="true">Informations personnelles</a>
                <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-infoperso" role="tab" aria-controls="nav-infoperso" aria-selected="false">Informations professionnelles</a>
                <a class="nav-item nav-link" id="nav-profile-tab" data-toggle="tab" href="#nav-profile" role="tab" aria-controls="nav-profile" aria-selected="false">Coordonnées</a>
                <a class="nav-item nav-link" id="nav-contact-tab" data-toggle="tab" href="#nav-contact" role="tab" aria-controls="nav-contact" aria-selected="false">Liens et médias</a>
            </div>
        </nav>

        <form method="post">
            <div class="tab-content" id="nav-tabContent">

                <div class="tab-pane fade show active" id="nav-home" role="tabpanel" aria-labelledby="nav-home-tab">

                    <div class="row">

                        <div class="col-lg-4">  {{ form_row(form.firstname) }} </div>
                        <div class="col-lg-4"> {{ form_row(form.lastname) }} </div>
                        <div class="col-lg-4"> {{ form_row(form.artistName) }}</div>

                    </div>

                    <div class="row">
                        <div class="col-lg-4">{{ form_row(form.birthdate) }}</div>
                    </div>
                </div>

                <div class="tab-pane fade" id="nav-infoperso" role="tabpanel" aria-labelledby="nav-profile-tab">

                    <div class="row">
                        <div class="col-md-6">{{ form_row(form.geoArea) }}</div>
                        <div class="col-md-6">{{ form_row(form.price) }}</div>
                        <div class="col-md-6">{{ form_row(form.personsNumber) }}</div>
                        <div class="col-md-6">{{ form_row(form.billingType) }}</div>

                    </div>
                    <div class="row">
                        <div class="col-md-8">{{ form_row(form.about) }}</div>
                        <div class="col-md-8">{{ form_row(form.technicalNeeds) }}</div>
                    </div>

                    <a href="{{ path('user_add_activity', {'id': user.id}) }}"><h2>Ajouter des activités</h2></a>

                </div>

                <div class="tab-pane fade" id="nav-profile" role="tabpanel" aria-labelledby="nav-profile-tab">
                    <div class="row">

                        <div class="col-md-4 col-sm-12">{{ form_row(form.email) }}</div>
                        <div class="col-md-4 col-sm-12">{{ form_row(form.phoneNumber) }}</div>
                        <div class="col-md-4 col-sm-12">{{ form_row(form.address) }}</div>
                        <div class="col-md-4 col-sm-12">{{ form_row(form.city) }}</div>
                        <div class="col-md-4 col-sm-12">{{ form_row(form.posteCode) }}</div>

                <a class="btn-secondary btn" href="{{ path('user_add_activity', {'id': user.id}) }}">Ajouter des activités</a>

                    </div>
                </div>

                <div class="tab-pane fade" id="nav-contact" role="tabpanel" aria-labelledby="nav-contact-tab">

                    <div class="upload">
                        <ul>

                            <li><a href="{{ path('avatar_new') }}">Ajouter un avatar </a></li>
                            <li><a href="{{ path('image_new') }}">Ajouter une image</a></li>
                            <li><a href="{{ path('video_new') }}">Ajouter une vidéo</a></li>
                            <li><a href="{{ path('musique_new') }}">Ajouter une musique <i class="fa fa-music fa-lg"></i></a></li>
                        </ul>
                    </div>

                </div>
                {{ form_rest(form) }}


                {% endblock %}
                {% block javascripts  %}
                {{ parent() }}
                <script>
                    function editRow(btn) {
                        $(btn).parent().find('form').toggle();
                    }
                </script>

                <button class="btn btn-secondary m-4">{{ button_label|default('Valider') }}</button>
                <a class="btn btn-secondary" href="{{ path('user_index') }}">Retour au profil</a>
            </div>
        </form>
    </div>

{% endblock %}
